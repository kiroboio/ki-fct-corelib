import { ethers } from "ethers";
import { defaultAbiCoder } from "ethers/lib/utils";

// Create a function that creates a random address
const createRandomAddress = () => ethers.Wallet.createRandom().address;

const getArrayOfAddresses = (length: number) => {
  return [...Array(length)].map(() => createRandomAddress());
};

const getArrayOfAddressesData = (length: number) => {
  return defaultAbiCoder.encode(["address[]"], [getArrayOfAddresses(length)]);
};

const getAddressData = () => {
  return defaultAbiCoder.encode(["address"], [createRandomAddress()]);
};

async function main() {
  const data = getArrayOfAddressesData(3);
  const data2 = getArrayOfAddressesData(4);

  const bytesData = defaultAbiCoder.encode(["bytes[]"], [[data, data2]]);

  console.log(bytesData);

  const bytesData2 = defaultAbiCoder.encode(["bytes[]"], [[getAddressData(), getAddressData()]]);
  console.log(bytesData2);
}

main()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error(error);
    process.exitCode = 1;
  });

// 0x0000000000000000000000000000000000000000000000000000000000000020
//   0000000000000000000000000000000000000000000000000000000000000002

//   0000000000000000000000000000000000000000000000000000000000000040
//   0000000000000000000000000000000000000000000000000000000000000100

//   00000000000000000000000000000000000000000000000000000000000000a0
//   0000000000000000000000000000000000000000000000000000000000000020
//   0000000000000000000000000000000000000000000000000000000000000003
//   000000000000000000000000e82e79f1e092d63a3a450dd93d25b58a814b0d0f
//   00000000000000000000000063441eb268405f08757675dd7d98709e9797e42f
//   00000000000000000000000007ea8c08e773565a4abad07803131fcf23064a7e

//   00000000000000000000000000000000000000000000000000000000000000c0
//   0000000000000000000000000000000000000000000000000000000000000020
//   0000000000000000000000000000000000000000000000000000000000000004
//   000000000000000000000000f6fb6612e078d3bceedfd4a453c5275af2babace
//   0000000000000000000000007a60672574b0970d34c2976f3ad515c666660c5b
//   000000000000000000000000f89c9cd5b311fea876702ccf52364cf099976505
//   00000000000000000000000080e0ea50e7fdfb2a6d626451b62e3f90d7bd5047

// 0x0000000000000000000000000000000000000000000000000000000000000020
//   0000000000000000000000000000000000000000000000000000000000000002

//   0000000000000000000000000000000000000000000000000000000000000040
//   0000000000000000000000000000000000000000000000000000000000000080
//   0000000000000000000000000000000000000000000000000000000000000020
//   000000000000000000000000c06aca5f3dd614d318e0d2e3f8a7ebf9f2a5e3f2
//   0000000000000000000000000000000000000000000000000000000000000020
//   00000000000000000000000042d6435c75574cd64e5c42af8123db70e46cac56
